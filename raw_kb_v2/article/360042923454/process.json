{"file_path": "../../raw_kb_v2\\article\\360042923454\\index.html", "content": {"title": "\n\n\n Dynamic Pivot\n\n\n", "article_body": "\n\nIntro\n-------\n\nAs a use case, let's say a user receives a\u00a0dataset every month from Finance and uploads it to\u00a0Domo in Excel format via Workbench. This\u00a0dataset contains a column titled \"Account.\" The values on this column show a list of financial metrics or transactions as shown below.\u00a0(The screenshot below is just sample data but the schema is similar to the schema of the actual dataset, albeit with fewer columns.)\n\nThe client needs\u00a0to pivot each metric into its own column to perform certain calculations and to report the data in tabular format as requested by the Exec team. One option is\u00a0to use the Magic ETL\u00a0\"Uncollapse Columns\" transformation, which works pretty well; however, one disadvantage of this transform is that it's\u00a0not dynamic. The client does not want to manually edit the Magic DataFlow because he would have to\u00a0add a new \"Account\" metric every time a new metric was\u00a0added to the source data.\n\n\n Luckily there is at least one solution to accomplish this. You can create a MySQL stored procedure to dynamically include/add any new metric under the Account field every time a new value is added to the data source.\n\n\n Transformation Steps\n----------------------\n\nThis section shows you how to dynamically add new metrics to a DataSet by creating and calling a MySQL stored procedure. The stored procedure is available here as a text file:\n\nDynamic\\_Pivot.sql\n\n*To dynamically add new metrics,**\n\n. Add backticks\u00a0(`) for all values with spaces (i.e. `Net Revenue`).\n\n\n This is necessary so the Group CONCAT function will work in the next step.\n2. Create your stored procedure, making sure to uncheck\n **Generate Output Table**\n .\n3. Call the stored procedure, making sure to uncheck\n **Generate Output Table**\n .\n4. Query the new table generated by the procedure.\n5. Generate the output DataSet.\n\n\n", "preview_article": "\n\nClick here to preview\n\n", "url_name": "\n\n\n 360042923454\n\n\n", "summary____________________________________________briefly_describe_the_article_the_summary_is_used_in_search_results_to_help_users_find_relevant_articles_you_can_improve_the_accuracy_of_search_results_by_including_phrases_that_your_customers_use_to_describe_this_issue_or_topic": "\n\n", "article_number": "\n\n\n 000004599\n\n\n", "archived_date": "\n\n\n", "language": "\n\n\n English\n\n\n", "primary_version": "\n\nDynamic Pivot\n\n", "article_total_view_count": "\n\n\n 5,351\n\n\n", "": "\n\n", "article_created_date": "\n\n\n 10/24/2022, 10:15 PM\n\n\n", "first_published_date": "\n\n\n 10/24/2022, 10:41 PM\n\n\n"}, "title": "dynamic_pivot", "breadcrumbs": [{"text": "domo", "url": "/s/knowledge-base/"}, {"text": "transforming_data_in_domo", "url": "/s/topic/0TO5w000000ZamzGAC"}, {"text": "transformation_tips_and_tricks", "url": "/s/topic/0TO5w000000ZaoJGAS"}]}