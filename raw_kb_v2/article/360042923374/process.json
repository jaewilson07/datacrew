{"file_path": "../../raw_kb_v2\\article\\360042923374\\index.html", "content": {"title": "\n\n\n Aggregate vs. Non-Aggregate\n\n\n", "article_body": "\n\nIntro\n-------\n\nIf you try to use a aggregated value with a non-aggregated value using Beast Mode you may not get the expected results.\u00a0However,\u00a0you\n *can*\n do this using a DataFlow.\n\n\n Solution Details and Steps\n----------------------------\n\n*To solve this problem,**\n\n####\n MySQL\n\nSELECT\u00a0*,\u00a0(SELECT COUNT(`series`) FROM input_dataset) AS \u2018Total Count\u2019\u00a0FROM input_dataset`\n\n####\n RedShift\n\nSELECT\u00a0*,(SELECT COUNT(\u201cseries\u201d) FROM input_dataset) AS \u201cTotal Count\u201d\u00a0FROM input_dataset`\n\n####\n Magic ETL\n\n\n1. Create a\u00a0new Magic ETL.\n2. Use the\n **Select Columns**\n tile to filter down to\u00a0one column. (Any filtering needed should be done before this step.)\n\n. Use\n **Add Constants**\n to create a new column with the value of 1.\n\n\n This will be used to group by and join on later.\n\n. Use a\n **Group By**\n tile to group by your column 1 and aggregate your column.\n\n. From your original input create a new path going to\n **Add Constants**\n .\n6. Create another column with the constant value of 1.\n\n\n This will be used to join your data.\n\n. Use a\n **Join Data**\n tile to join your two paths.\n\n\n You should join on your two constant columns (1).\n\n. Use a\n **Select Columns**\n tile to remove your two constant values columns (1 & 1\\_1).\n\n. Create output.\n\n\n In your card you can now use this new column as a comparison:\n\n\n`CASE WHEN `series` = \u2018text\u2019 THEN `value` END / `Total Count``\n\n", "preview_article": "\n\nClick here to preview\n\n", "url_name": "\n\n\n 360042923374\n\n\n", "summary____________________________________________briefly_describe_the_article_the_summary_is_used_in_search_results_to_help_users_find_relevant_articles_you_can_improve_the_accuracy_of_search_results_by_including_phrases_that_your_customers_use_to_describe_this_issue_or_topic": "\n\n", "article_number": "\n\n\n 000004612\n\n\n", "archived_date": "\n\n\n", "language": "\n\n\n English\n\n\n", "primary_version": "\n\nAggregate vs. Non-Aggregate\n\n", "article_total_view_count": "\n\n\n 4,955\n\n\n", "": "\n\n", "article_created_date": "\n\n\n 10/24/2022, 10:16 PM\n\n\n", "first_published_date": "\n\n\n 10/24/2022, 10:41 PM\n\n\n"}, "title": "aggregate_vs_nonaggregate", "breadcrumbs": [{"text": "domo", "url": "/s/knowledge-base/"}, {"text": "transforming_data_in_domo", "url": "/s/topic/0TO5w000000ZamzGAC"}, {"text": "transformation_tips_and_tricks", "url": "/s/topic/0TO5w000000ZaoJGAS"}]}