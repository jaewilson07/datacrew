{"file_path": "../../raw_kb_v2\\article\\360057028974\\index.html", "content": {"title": "\n\n\n Amazon S3 AssumeRole Writeback Connector\n\n\n", "article_body": "\n\nIntro\n-------\n\nAmazon S3 is an online file storage web service offered by Amazon Web Services that you can use to store and retrieve any amount of data, at any time, from anywhere on the web. Use Domo\u2019s Amazon S3 AssumeRole Writeback connector to export your data from a Domo DataSet to an Amazon S3 bucket using an assumed role for the session.\u00a0To learn more about the Amazon S3 API, visit their page (\n\nhttp://docs.aws.amazon.com/AmazonS3/...I/Welcome.html\n\n).\n\n\n You export data to an S3 bucket\u00a0in the Data Center. This topic discusses the fields and menus that are specific to the Domo\u00a0to S3 AssumeRole\u00a0Writeback\u00a0connector user interface. General information for adding DataSets, setting update schedules, and editing DataSet information is discussed in\n\nAdding a DataSet Using a Data Connector\n\n.\n\n*Note:**\n The owner of a writeback dataset must also be an owner or co-owner of the input dataset.\n\nPrerequisites\n---------------\n\nTo connect to your Amazon S3 account and create a DataSet, you must have the following:\n\n A Domo Client ID and Client Secret.\n* The Amazon Resource Name (ARN) of the role to assume.\n* The identifier for the assumed role session. You will need to set up a trust policy. This is described in continuation.\n* The unique identifier used by third parties when assuming roles in their customers' accounts.\n* The name of the Amazon S3 bucket you want to pull data from.\n\n\n###\n Trust policy configuration\n\nThe trust policy for the role session identifier should look as follows:\n\n\n`{\n\n\n \"Effect\": \"Allow\",\n\n\n \"Principal\": {\n\n\n \"AWS\": \"arn:aws:iam::*accountId*:root\"\n\n\n },\n\n\n \"Action\": \"sts:AssumeRole\",\n\n\n \"Condition\": {\n\n\n \"StringEquals\": {\n\n\n \"sts:ExternalId\": \"*customer externalID*\"\n\n\n }\n\n\n }\n\n\n }`\n\n\n Account IDs for Domo environments are as follows:\n\n US: 339405024189\n* AU: 010251424122\n* EMEA (IE): 687132894031\n* JP: 622384692065\n* CA: 710710207408\n\nSo\u00a0if you wanted to grant access to Australia-based user \"myIAMuser123,\" who has an account ID of \"46822464880681,\"\u00a0the trust policy would look like this:\n\n\n`{\n\n\n \"Effect\": \"Allow\",\n\n\n \"Principal\": {\n\n\n \"AWS\": \" arn:aws:iam::46822464880681:user/myIAMuser123 \"\n\n\n },\n\n\n \"Action\": \"sts:AssumeRole\",\n\n\n \"Condition\": {\n\n\n \"StringEquals\": {\n\n\n \"sts:ExternalId\": \"010251424122\"\n\n\n }\n\n\n }\n\n\n }`\n\n###\n To obtain the Domo Client ID and Client Secret:\n\n\n1. Log into your\n\nDomo developer account\n\n.\n2. In the top right corner, click\n ********My Accounts********\n >>\n ********New Client********\n .\n3. Enter the name and description for your application.\n4. Provide the application scope by selecting the checkboxes for\n ****************Data****************\n and\n ****************User****************\n .\n5. Click\n ********Create********\n .\n\nOnce you have created a client, you can manage the client by clicking on\n ********Manage Client********\n . Your\n ********Client Secret********\n will appear in the\n ********Manage Client********\n section.\n\n*Important**\n : You will need the WRITE (s3:PutObject) permission on Amazon S3.\n\nConfiguring the Connection\n----------------------------\n\n\n This section enumerates the options in the\n **Credentials**\n and\n **Details**\n panes in the\n\nAmazon S3 AssumeRole Writeback\n\nConnector page.\u00a0The components of the other panes in this page,\n **Scheduling**\n and\n **Name & Describe Your DataSet**\n , are universal across most connector types and are discussed in greater length in\n\nAdding a DataSet Using a Data Connector\n\n.\n\n\n###\n\nCredentials Pane\n\nThis pane contains fields for entering credentials to connect to your Domo\u00a0developer\u00a0account as well as your S3 bucket. The following table describes what is needed for each field:\n\nField\n\n|\n\nDescription\n\n|\n| --- | --- |\n|\n Domo Client ID\n  |\n Enter your Domo client ID. See\n\nPrerequisites\n\nfor details.\n  |\n|\n Domo Client Secret\n  |\n Enter your Domo client secret.\u00a0See\n\nPrerequisites\n\nfor details.\n  |\n|\n Role Session Name\n  |\n Enter the identifier for the assumed role session.\n  |\n|\n Role ARN\n  |\n Enter the Amazon Resource Name (ARN) of the role you want to assume.\n  |\n|\n External ID\n  |\n Enter the unique identifier used by third parties when assuming roles in their customers' accounts.\n  |\n|\n Bucket\n  |\n Enter the Amazon S3 Bucket you want to pull files from.\n  |\n|\n Region\n  |\n Select the S3 Bucket Region where your file is located.\n  |\n\n\n Once you have entered valid credentials, you can use the same account any time you go to create a new Domo-S3 connection. You can manage connector accounts in the\n **Accounts**\n tab in the Data Center. For more information about this tab, see\n\nManaging User Accounts for Connectors\n\n.\n\n\n###\n Details Pane\n\nThis pane contains a number of fields for specifying your data and indicating where it's going.\n\n\n Menu\n  |\n Description\n  |\n| --- | --- |\n|\n How Would You Like to Select Your Folder Path?\n  |\n Specify whether you would like to search for your folder path or enter it manually.\n  |\n|\n Select Folder Path\n  |\n Select the folder path that you would like to use.\n  |\n|\n Path\n  |\n Enter the folder path where you would like the file to be saved in your Amazon S3 bucket.\n  |\n|\n Overwrite\n  |\n Select this check box if you want to overwrite\u00a0the existing file in your\u00a0Amazon S3 bucket with selected filename.\n  |\n|\n How Would You Like to Select Your Input DataSet?\n  |\n Specify whether you would like to search for your DataSet ID or enter it manually.\n  |\n|\n DataSet ID\n  |\n Select the DataSet ID that you would like to use.\n  |\n|\n Input DataSet\u00a0ID\n  |\n Enter the DataSet\u00a0ID (GUID) for the DataSet you want to copy to the S3 Bucket.\n\n\n You can find the DataSet ID by opening the details view for the DataSet in the Data Center and looking at the portion of the URL following\u00a0datasources/.\u00a0Example:\u00a0In the URL\n\nhttps://mycompany.domo.com/datasourc...tails/overview\n\n, the DataSet ID is\u00a0845305d8-da3d-4107-a9d6-13ef3f86d4a4.\n  |\n|\n Select Filename\n  |\n Select whether you want to reference your DataSet\u00a0using the\u00a0Input DataSet ID\n **,**\n Input DataSet Name\n **,**\n or an output file name.\n\n\n If you choose\n ****Use Input Dataset Name****\n or\n ****Enter File Name****\n and your dataset name contains the macro <current\\_date> or <current\\_date-1> without spaces, then <current\\_date> will be replaced by today's date and <current\\_date-1> will be replaced by yesterday's date or -31 for 31 days ago in format yyyy-MM-dd.\n  |\n|\n Filename\n  |\n Enter the output file name.\n\n\n If you wish to add current date to the file name please use the macro <current\\_date> or <current\\_date-1>. Example: If fileName is\n ****domo\\_<current\\_date>****\n ,\u00a0the output file generated in s3 bucket would be domo\\_(todays date in format yyyy-MM-dd) like domo\\_2019-07-16.\n  |\n|\n Only Writeback\u00a0New Data\n  |\n Check this box to only pull your last execution data from the input dataset and export it to S3 Object.\n  |\n|\n File Extension\n  |\n Select the extension that should be used as the file extension for your output file.\n  |\n|\n Delimiter\n  |\n Select the character that should be used as a delimiter for your output file.\n  |\n|\n Compression\n  |\n Select the compression type that should be used for your output file.\n  |\n|\n Encryption Method\n  |\n Select the encryption type that should be used for your output file.\n  |\n|\n Encryption Key\n  |\n Enter the encryption key.\n  |\n\n\n###\n Other Panes\n\nFor information about the remaining sections of the connector interface, including how to configure scheduling, retry, and update options, see\n\nAdding a DataSet Using a Data Connector\n\n.\n\n", "preview_article": "\n\nClick here to preview\n\n", "url_name": "\n\n\n 360057028974\n\n\n", "summary____________________________________________briefly_describe_the_article_the_summary_is_used_in_search_results_to_help_users_find_relevant_articles_you_can_improve_the_accuracy_of_search_results_by_including_phrases_that_your_customers_use_to_describe_this_issue_or_topic": "\n\n", "article_number": "\n\n\n 000004015\n\n\n", "archived_date": "\n\n\n", "language": "\n\n\n English\n\n\n", "primary_version": "\n\nAmazon S3 AssumeRole Writeback Connector\n\n", "article_total_view_count": "\n\n\n 4,822\n\n\n", "": "\n\n", "article_created_date": "\n\n\n 10/24/2022, 9:17 PM\n\n\n", "first_published_date": "\n\n\n 10/24/2022, 10:39 PM\n\n\n"}, "title": "amazon_s3_assumerole_writeback_connector", "breadcrumbs": [{"text": "domo", "url": "/s/knowledge-base/"}, {"text": "connecting_data_to_domo", "url": "/s/topic/0TO5w000000ZammGAC"}, {"text": "connectors", "url": "/s/topic/0TO5w000000ZanLGAS"}, {"text": "writeback_connectors", "url": "/s/topic/0TO5w000000ZapVGAS"}]}