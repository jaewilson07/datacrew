{"file_path": "../../raw_kb_v2\\article\\360044353933\\index.html", "content": {"Title": "Snowflake Federated Agent", "Article Body": "Intro\n                       \n\n                        The Domo Federated Agent is a solution that allows you to\u00a0connect\u00a0your on-premise data to Domo through Snowflake. The agent makes a socket connection to Domo and then proxies requests to your database which allows you to visualize your snowflake data\u00a0in Domo in real-time, any time, anywhere. With the Snowflake Federated Agent, your data always stays in your database and is never stored in Domo.\n                       \n\n                        How to get the Federated Agent\n                       \n\n                        For more information on the\u00a0Snowflake Federated Agent pricing and access, contact your Customer Success Manager (CSM).\n                       \n\n                        Prerequisites\n                       \n\n\n\n                          Admin access to your database and the ability to write a new table to your database.\n                         \n\n\n\n                          Database access credentials\n                         \n\n\n\n                          Admin level access in Domo\n                         \n\n\n\n                          Database connection URL\n                         \n\n\n\n                          (Optional)\n                          \n                           Managing Access Tokens\n                          \n\n\n\n\n                        Agent Configuration\n                       \n\n                        To properly configure your Domo Federated Agent,\n                       \n\n\n\n                          Navigate to the conf directory in\u00a0the unzipped file Domo provided.\n                         \n\n\n\n                          Open the agent configuration file titled agentConfig.yml\n                         \n\n\n\n\n\n\n\n\n\n\n                               Note:\n                              \n                              The configuration files are all .yml files are case and character sensitive.\n                             \n\n\n\n\n\n\n\n                          Fill in your Domo\u00a0domain.\n                          \n\n\n\n\n\n\n                          Uncomment the\n                          \n                           adapterType: snowflake\n                          \n                          and\n                          \n                           configurationFileName: snowflakeAdapterConfig.yml\n                          \n                          lines.\n                          \n\n\n\n\n\n\n                        There are two ways to authenticate to Domo\u2014using a developerToken property (recommended) or using Oauth2 (default). Using a developerToken is recommended because it automatically authenticates to Domo every time. By using Oauth2, for every change or restart of the agent, you will need to reauthorize.\n                       \n\n\n                         To authenticate using a developerToken,\n                        \n\n\n\n\n                          Create an Access Token in Domo. See\n                          \n                           Managing Access Tokens\n                          \n                          for detailed instructions on\u00a0creating\u00a0an Access Token.\n                         \n\n\n\n                          Uncomment\u00a0the developerToken line and enter the Access Token.\n                          \n\n\n\n\n\n\n\n\n                         To authenticate using\u00a0Oauth2,\n                        \n\n\n                        No additional configuration is needed. Leave the developerToken line commented out, and the agent will prompt you to authenticate by Oauth login.\n                       \n\n                        Adapter Configuration\n                       \n\n\n\n                          In the conf directory\u00a0of the unzipped file Domo provided, open the snowflakeAdapterConfig.yml file.\n                         \n\n\n\n                          Enter the required information on the uncommented lines.\n                         \n\n\n\n                        For every table you wish to visualize in Domo, the\n                        \n                         tableName:\n                        \n                        line must be copied.\n                        \n\n\n\n\n\n\n\n\n\n\n\n\n\n                             Important:\n                            \n                            If table names\u00a0are not specified, the Snowflake Agent will visualize all tables available in your database.\n                           \n\n\n\n\n\n                        Password Encryption\n                       \n\n                        In order to run the Snowflake Federated Agent, you will need to set a password.\u00a0Optionally, your password can be used to encrypt your database passwords and Domo\u00a0Access Token.\n                       \n\n                        If you choose not to encrypt, you still need to generate a\u00a0password and store it in one of two ways.\n                       \n\n                        Set the password as an Environment Variable\n                       \n\n\n\n\n\n\n\n\n\n\n\n\n                             Important:\n                            \n\n                           This is the recommended way to set the encryption password\n                          \n\n\n\n\n                        Variable:\n                        \n                         DOMO_FD_ENCRYPTION_PW\n                        \n\n\n                        E.g.\n                        \n                         DOMO_FD_ENCRYPTION_PW=<your encryption password>\n                        \n\n\n                        Pass it as a command line property\n                       \n\n\n\n\n\n\n\n\n\n\n\n\n                             Note:\n                            \n                            -p or --encryptionPassword may be used.\n                           \n\n\n\n\n\n\n\n                        If this method is chosen, you must edit the\n                        \n                         startAgent.sh\n                        \n                        or startAgent.bat file, found in the bin directory,\u00a0and add the -p=<yourPassword> property at the end of the java -jar line. Using this method, the password will be stored in the command history.\n                       \n\n                        E.g.\n                        \n                         java -jar libs/federated-agent.jar -p=testpw\n                        \n\n\n\n\n\n                        Optionally, the\u00a0database passwords and Domo Auth Token can be encrypted using our encryption jar. You can also place your passwords in plain text in the configuration files.\n                       \n\n                        To encrypt your passwords or token run the\n                        \n                         startEncryption.sh\n                        \n                        or startEncryption.bat file found in the bin folder and follow the instructions there. Copy the newly encrypted database password and store it in the appropriate adapter configuration.\n                       \n\n                        Standard Calendar Table Configuration\n                       \n\n                        In order for date grain queries to work in Domo, the domo.standardcalendar must be\u00a0loaded into your database.\n                       \n\n\n\n\n\n\n\n                              Important:\n                             \n\n\n\n\n\n\n                               If the Standard Calendar Table is not configured, any query that includes a date type column will fail.\n                              \n\n\n\n\n                              Domo uses double quotes for identifiers in\u00a0SQL queries, which may result in queries containing identifiers that cannot be found in Snowflake due to differences in case.\u00a0To prevent this situation from occurring, Snowflake provides a session parameter, QUOTED_IDENTIFIERS_IGNORE_CASE, that ensures all alphabetical characters in identifiers created within the session are stored in uppercase, regardless of whether the identifier is double-quoted. You can fix any problems with this by setting the session parameter at the user level using the\n                              \n                               ALTER USER\n                              \n                              command. The syntax is as follows:\n                              \n\n\n                               ALTER USER [ IF EXISTS ]\n                               \n                                <name>\n                               \n                               SET { [\n                               \n                                objProperties\n                               \n                               ] [\n                               \n                                sessionParams\n                               \n                               ] }\n                              \n\n\n                              For more information, see\n                              \n                               https://docs.snowflake.net/manuals/sql-reference/parameters.html#quoted-identifiers-ignore-case\n                              \n                              .\n                             \n\n\n\n\n\n\n\n\n\n\n                         To configure the Standard Calendar table,\n                        \n\n\n\n\n                          Navigate to the standardCalendar folder of the unzipped file provided by Domo.\n                         \n\n\n\n                          Select the snowflake folder. There are create table statements listed under each database type in the format\n                          \n                           <databaseName>Standardcalendar.sql\n                          \n                          .\n                         \n\n\n\n\n\n\n\n\n\n\n                               Note:\n                              \n                              For each database used, a standard calendar table using the\n                              \n                               schema\n                              \n                              below will need to be created.\n                             \n\n\n\n\n\n\n\n                          Once the table is created, load the data using either the standardcalendar_data.csv or standardcalendar_data.txt file found in the standardCalendar file.\n                         \n\n\n\n\n\n\n\n\n\n\n                               Note:\n                              \n\n                             Fields are terminated with the ',' character and lines are terminated with the '\\r\\n' return. There are no quotes surrounding any of the data, and no need to escape any fields. The dates are in the format \"yyyy-MM-dd\".\n                            \n\n\n\n\n\n\n                          Optionally, there is a standard_calendar_data.sql file where the data is formatted as insert statements.\n                         \n\n\n\n                        domo.standardcalendar Schema\n                       \n\n\n\n\n                           Field Name\n                          \n\n                           Data Type\n                          \n\n\n\n\n\n                           Domo_Key\n                          \n\n                           Date\n                          \n\n\n\n                           Date\n                          \n\n                           Date\n                          \n\n\n\n                           DayOfWeek\n                          \n\n                           String\n                          \n\n\n\n                           DayNumberInWeek\n                          \n\n                           Integer\n                          \n\n\n\n                           DayNumberInMonth\n                          \n\n                           Integer\n                          \n\n\n\n                           DayNumberInQuarter\n                          \n\n                           Integer\n                          \n\n\n\n                           DayNumberInYear\n                          \n\n                           Integer\n                          \n\n\n\n                           MonthName\n                          \n\n                           String\n                          \n\n\n\n                           MonthAbrv\n                          \n\n                           String\n                          \n\n\n\n                           MonthNumberInYear\n                          \n\n                           Integer\n                          \n\n\n\n                           Quarter\n                          \n\n                           String\n                          \n\n\n\n                           Year\n                          \n\n                           Integer\n                          \n\n\n\n                           CalendarMonth\n                          \n\n                           String\n                          \n\n\n\n                           CalendarQuarter\n                          \n\n                           String\n                          \n\n\n\n                           WeekStart\n                          \n\n                           Date\n                          \n\n\n\n                           QuarterStart\n                          \n\n                           Date\n                          \n\n\n\n                           DaySinceEpoch\n                          \n\n                           Integer\n                          \n\n\n\n                           WeekSinceEpoch\n                          \n\n                           Integer\n                          \n\n\n\n                           MonthSinceEpoch\n                          \n\n                           Integer\n                          \n\n\n\n                           QuarterSinceEpoch\n                          \n\n                           Integer\n                          \n\n\n\n                           YearSinceEpoch\n                          \n\n                           Integer\n                          \n\n\n\n                           MonthStart\n                          \n\n                           Date\n                          \n\n\n\n                           YearStart\n                          \n\n                           Date\n                          \n\n\n\n                           QuarterNumberInYear\n                          \n\n                           Integer\n                          \n\n\n\n\n                        Fiscal Calendar Configuration\n                       \n\n                        If a fiscal calendar needs to be set up for Federated Data, please send an email to\n                        \n                         labs@domo.com\n                        \n                        including the following items:\n                       \n\n\n\n                          Domo domain\n                         \n\n\n\n                        Then, we will provide you with the schema and steps for adding the calendar to your database.\n                       \n\n                        Running the Agent\n                       \n\n                        Once all components above are properly configured, it is time to run the agent.\n                       \n\n\n                         To run the Agent,\n                        \n\n\n\n\n                          Using the appropriate startAgent file for your machine from your bin folder found in the Domo provided file.\n                         \n\n\n\n                            For Windows, use the .bat file.\n                           \n\n\n\n                            For Mac or Linux, use the .sh file.\n                           \n\n\n\n\n                         Make sure a DataSet was created in Domo for your tables by navigating to the Data Center in Domo.\n                         \n\n\n\n                            Filter to the DataSet type of Data Anywhere to see any federated queried DataSets.\n                           \n\n\n\n\n\n                        You can now use your federated datasets in Domo to create cards and consume your on-premise data.\n                       \n\n\n\n\n\n\n\n\n\n                            Tip:\n                           \n                           To use multiple databases of the same type, copy the type configuration and point to another configuration file.\n                          \n\n\n\n\n                        FAQ\n                       \n\n\n                         Can I still use PDP and create Beastmodes\u00a0on federated DataSets?\n                        \n\n\n                        Yes, you can still use PDP\u00a0and create Beastmodes just like on a standard DataSet.\n                       \n\n\n                         Can I use my federated DataSets\u00a0in Domo DataFlows?\n                        \n\n\n                        No, federated DataSets\u00a0are not supported as inputs in Magic ETL, MySQL Dataflows, or Fusion.\n                       \n\n\n                         Can I set Alerts on cards powered from a federated DataSet?\n                        \n\n\n                        No, Alerts are not currently supported on cards powered by a federated DataSet.", "Preview Article": "Click here to preview", "URL Name": "360044353933", "Summary\n                     \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                       Briefly describe the article. The summary is used in search results to help users find relevant articles. You can improve the accuracy of search results by including phrases that your customers use to describe this issue or topic.": "", "Article Number": "000003152", "Archived Date": "", "Language": "English", "Primary Version": "Snowflake Federated Agent", "Article Total View Count": "4,918", "": "", "Article Created Date": "10/24/2022, 9:10 PM", "First Published Date": "10/24/2022, 10:40 PM"}, "title": "\n              Snowflake Federated Agent\n             ", "breadcrumbs": [{"text": "\n\n               Domo\n              \n", "url": "/s/knowledge-base/"}, {"text": "\n\n               Connecting Data To Domo\n              \n", "url": "/s/topic/0TO5w000000ZammGAC"}, {"text": "\n\n               Other Connection Methods\n              \n", "url": "/s/topic/0TO5w000000ZanzGAC"}]}