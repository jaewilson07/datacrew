{"file_path": "../../raw_kb_v2\\article\\1500000281502\\index.html", "content": {"title": "\n\n\n Amazon Athena Unload Connector\n\n\n", "article_body": "\n\nIntro\n-------\n\nAmazon Athena is a service that makes it easy to query big data from Amazon S3 Bucket. With the Amazon Athena Unload\u00a0Data Connector, you can get constant access to your data right from your Domo instance. This connector uses the SDK to unload the query into the S3 Bucket using the unique object id and parses the S3 object. Use Domo's\u00a0Amazon Athena Unload\u00a0connector to instantly connect, visualize, and get insights from your big data using Amazon Athena Unload with S3 query processing.\u00a0To learn more about the Amazon Athena API, visit their page (\n\nhttps://aws.amazon.com/documentation/athena/\n\n).\n\n\n You connect to your Amazon Athena account in the Data Center. This topic discusses the fields and menus that are specific to the Amazon Athena Unload connector user interface. General information for adding DataSets, setting update schedules, and editing DataSet information is discussed in\n\nAdding\u00a0a DataSet Using a Data Connector\n\n.\n\n\n Prerequisites\n---------------\n\nTo connect to your Amazon Athena account and create a DataSet, you must have the following:\n\n Your AWS access key\n* Your AWS secret key\n* The Amazon S3 location where\u00a0your query output is written. From the Athena web console, this can be found by going to\n **Settings**\n . Example:\n\ns3://aws-athena-query-results-1234-us-west-2/\n* Your AWS region\n\nFor information about obtaining AWS credentials, visit\n\nhttp://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html\n\n.\n\n###\n****Required Permission Policies****\n\nTo gain the access to AWS services and resources, such as Athena and the Amazon S3 buckets, provide the JDBC driver credentials to your application. If you are using the JDBC driver, ensure that the IAM permissions policy includes all actions listed in\n ****AmazonAthenaFullAccess Managed Policy****\n .\n\n\n The\n ****`AmazonAthenaFullAccess`****\n managed policy grants full access to Athena.\n\n\n Managed policy contents change, so the policy shown here may be out-of-date. Check the IAM console for the most up-to-date policy.\n\n\n```\n{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"athena:*\"\n            ],\n            \"Resource\": [\n                \"*\"\n            ]\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"glue:CreateDatabase\",\n                \"glue:DeleteDatabase\",\n                \"glue:GetDatabase\",\n                \"glue:GetDatabases\",\n                \"glue:UpdateDatabase\",\n                \"glue:CreateTable\",\n                \"glue:DeleteTable\",\n                \"glue:BatchDeleteTable\",\n                \"glue:UpdateTable\",\n                \"glue:GetTable\",\n                \"glue:GetTables\",\n                \"glue:BatchCreatePartition\",\n                \"glue:CreatePartition\",\n                \"glue:DeletePartition\",\n                \"glue:BatchDeletePartition\",\n                \"glue:UpdatePartition\",\n                \"glue:GetPartition\",\n                \"glue:GetPartitions\",\n                \"glue:BatchGetPartition\"\n            ],\n            \"Resource\": [\n                \"*\"\n            ]\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"s3:GetBucketLocation\",\n                \"s3:GetObject\",\n                \"s3:ListBucket\",\n                \"s3:ListBucketMultipartUploads\",\n                \"s3:ListMultipartUploadParts\",\n                \"s3:AbortMultipartUpload\",\n                \"s3:CreateBucket\",\n                \"s3:PutObject\"\n            ],\n            \"Resource\": [\n                \"arn:aws:s3:::aws-athena-query-results-*\"\n            ]\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"s3:GetObject\",\n                \"s3:ListBucket\"\n            ],\n            \"Resource\": [\n                \"arn:aws:s3:::athena-examples*\"\n            ]\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"s3:ListBucket\",\n                \"s3:GetBucketLocation\",\n                \"s3:ListAllMyBuckets\"\n            ],\n            \"Resource\": [\n                \"*\"\n            ]\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"sns:ListTopics\",\n                \"sns:GetTopicAttributes\"\n            ],\n            \"Resource\": [\n                \"*\"\n            ]\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"cloudwatch:PutMetricAlarm\",\n                \"cloudwatch:DescribeAlarms\",\n                \"cloudwatch:DeleteAlarms\"\n            ],\n            \"Resource\": [\n                \"*\"\n            ]\n        }\n    ]\n}\n\n``\n\n\n Connecting to Your Amazon Athena Account\n------------------------------------------\n\nThis section enumerates the options in the\n ****Credentials****\n and\n ****Details****\n panes in the Amazon Athena Unload Connector page.\u00a0The components of the other panes in this page,\n ****Scheduling****\n and\n ****Name & Describe Your DataSet****\n , are universal across most connector types and are discussed in greater length in\n\nAdding a DataSet Using a Data Connector\n\n.\n\n##\n Credentials Pane\n\nThis pane contains fields for entering credentials to connect to your Amazon Athena account. The following table describes what is needed for each field:\n\n\n Field\n  |\n Description\n  |\n| --- | --- |\n|\n Access Key\n  |\n Enter your AWS access key.\n  |\n|\n Secret Key\n  |\n Enter your AWS secret key.\n  |\n|\n S3 Staging Directory\n  |\n Enter the Amazon S3 location where\u00a0your query output is written. From the Athena web console, this can be found by going to\n **Settings**\n . Example:\n\ns3://aws-athena-query-results-1234-us-west-2/\n  |\n|\n Region\n  |\n Select your AWS region.\n  |\n|\n Workgroup\n  |\n Enter the workgroup.\n  |\n\nOnce you have entered valid Amazon Athena credentials, you can use the same account any time you go to create a new Amazon Athena DataSet. You can manage connector accounts in the\n ****Accounts****\n tab in the Data Center. For more information about this tab, see\n\nManaging User Accounts for Connectors\n\n.\n\n##\n Details Pane\n\nThis pane contains a number of options for entering your query and configuring the report.\n\n\n Menu\n  |\n Description\n  |\n| --- | --- |\n|\n Report\n  |\n Select the Amazon Athena Unload report you want to run. Currently, only one report type is available.\n\n\n|  |  |\n| --- | --- |\n|\n Query\n  |\n Let's you query data from a specified S3 database and table.\n  |\n\n|\n|\n Database Name\n  |\n Select the database you want to query.\n  |\n|\n Query\n  |\n Enter the SQL query you want to execute (e.g.\u00a0select \\* from table\\_name).\n  |\n\n\n###\n Other Panes\n\nFor information about the remaining sections of the connector interface, including how to configure scheduling, retry, and update options, see\n\nAdding\u00a0a DataSet Using a Data Connector\n\n.\n\n", "preview_article": "\n\nClick here to preview\n\n", "url_name": "\n\n\n 1500000281502\n\n\n", "summary____________________________________________briefly_describe_the_article_the_summary_is_used_in_search_results_to_help_users_find_relevant_articles_you_can_improve_the_accuracy_of_search_results_by_including_phrases_that_your_customers_use_to_describe_this_issue_or_topic": "\n\n", "article_number": "\n\n\n 000003863\n\n\n", "archived_date": "\n\n\n", "language": "\n\n\n English\n\n\n", "primary_version": "\n\nAmazon Athena Unload Connector\n\n", "article_total_view_count": "\n\n\n 4,748\n\n\n", "": "\n\n", "article_created_date": "\n\n\n 10/24/2022, 9:16 PM\n\n\n", "first_published_date": "\n\n\n 10/24/2022, 10:41 PM\n\n\n"}, "title": "amazon_athena_unload_connector", "breadcrumbs": [{"text": "domo", "url": "/s/knowledge-base/"}, {"text": "connecting_data_to_domo", "url": "/s/topic/0TO5w000000ZammGAC"}, {"text": "connectors", "url": "/s/topic/0TO5w000000ZanLGAS"}, {"text": "database_connectors", "url": "/s/topic/0TO5w000000ZaojGAC"}]}