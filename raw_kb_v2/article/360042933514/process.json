{"file_path": "../../raw_kb_v2\\article\\360042933514\\index.html", "content": {"title": "\n\n\n Using the Domo Campaign Markup Language\n\n\n", "article_body": "\n\nIntro\n-------\n\nThere are many advanced features of this app that allow for even greater customization of your email campaigns. You can utilize the Domo Campaigns Markup Language to not only add more Domo content such as summary numbers or titles, but you can also specify the size of a card or limit the number of rows in a table.\n\n\n When adding a distribution list to a campaign, you must specify columns that can act as filters. The filters are used as personalized data permissions (PDP) within the app. You can always make sure that recipients of your campaign are only seeing the data that is filtered to them.\n\n\n You can also add paginated Mega Tables and Pivot Tables in the email body and PDF attachments.\n\n\n Customizing Domo Content\n--------------------------\n\nAlthough you can already insert cards and card titles natively in the app, you can also add content by using the Domo Campaign Markup Language. To add dynamic content from a card in Domo, simply add the following text\u00a0to your email or attachment body:\n\n{{domo-content-[card id]-[content type]}}`\n\n\n1. Replace\n **[card id]**\n with the ID of the card you wish to pull from.\n2. Replace\n **[content type]**\n with the part of the card you want to reference.\n\n\n**Note:**\n Valid content types include title, summarynumber, and description.\n\n\n####\n Example 1\n\nYou want\u00a0to insert the title from card 1234567, so you\u00a0would insert the text below in your email or attachment body:\n\n\n`{{\n\ndomo-content-1234567-title\n\n}}`\n\n###\n Example 2\n\nNow, you want to insert the summary number from card 8868777. You would insert the following text:\n\n\n`{{\n\ndomo-content-8868777-summarynumber\n\n}}`\n\n##\n Changing Width, Height, or Scale\n\nYou can apply specific customizations to your Domo content such as width, height, or scale. simply add the following text\u00a0to your email or attachment body:\n\n{{domo-content-[card id]-chart width=[width] height=[height] scale=[scale]}}`\n\n\n1. Replace\n **[card id]**\n with the ID of the card you wish to pull from.\n2. **[width]**\n and\n **[height]**\n\nspecify\u00a0the size of the image you want to insert into your template.\n3. **[Scale]**\n is optional and always defaults to 1.0 if it is not set.\u00a0 This allows you to insert more detailed information in a smaller space as if you've zoomed the chart out.\n\n\n####\n Different Scales\n\nAll of the charts below are rendered at 300 width x 400 height but at different scales.\u00a0At higher scales, you get more detailed content in the same size image.\n\n\n 1.0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 1.5\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a02.0\n\n\n####\n\n\n####\n\n\n####\n Example 1\n\nTo insert the chart from card 8868777 and render in 800 width x 600 height, add the following text:\n\n{{domo-content-8868777-chart width=800 height=600}}`\n\n\n####\n Example 2\n\nIf you wanted to insert the same card as the example above but with a scale of 2.0, add the following text:\n\n{{domo-content-8868777-chart width=800 height=600 scale=2.0}}`\n\n\n####\n Table Cards\n\nTo add table cards, add the following text\u00a0to your email or attachment body:\n\n{{domo-content-[card id]-table width=[width] height=[height] scale=[scale] max-pages=[maximum number of pages] max-rows=[maximum number of rows]}}`\n\n\n1. Replace\n **[card id]**\n with the ID of the table card you wish to pull from.\n2. **[width]**\n\nand\n\n*[height]**\n\nspecifies\u00a0the size of the image you want to insert into your template.\n3. **[Scale]**\n is optional and always defaults to 1.0.\n4. **[maximum number of pages]**\n and\n **[maximum number of rows]**\n are optional. Use these options to define a maximum number of pages or rows you want to include.\n\n\n#####\n Example 1\n\nIf you want to include up to 5 pages of data, set your\n **[maximum number of pages]**\n attribute to 5, shown below:\n\n{{domo-content-8868777-chart width=800 height=600 scale=2.0 max-pages=5 max-rows=0}}`\n\n\n#####\n Example 2\n\nIf you want to include up to 100 rows of data, no matter the number of pages required (up to 200 maximum), set the\n **[maximum number of rows]**\n attribute to 100 and\n **[maximum number of pages]**\n to 0, shown below:\n\n{{domo-content-8868777-chart width=800 height=600 scale=2.0 max-pages=0 max-rows=100}}`\n\n\n####\n Limitations and Restrictions\n\n\n1. Supported components include:\n\t* HTML tables\n\t* Mega tables\n\t* Pivot tables\n2. The maximum number of pages for Mega and Pivot Tables is 200 pages\u00a0per PDF.\n3. When using max-pages or max-rows tags, note the following:\n\t* If the user sets both max-pages and max-rows to zero, the system generates all pages.\n\t* The user must only use one pagination tag and set the other to zero. If both pagination tags have values, the app displays the following error:\n\t* Mega Tables and Pivot Tables must be sorted by a column set by the user. If the tables are not sorted, the app displays the following error:\n\t* The number of pages may vary depending on the width, height, and scale properties.\n\t* In preview mode only, the user can experience timeout exceptions when loading a Mega or Pivot Table with a large amount of data when the number of pages is more than 50.\n\nDistribution List Content\n---------------------------\n\nThe Domo Campaigns Markup Language (DCML) can also be used to insert fields from the distribution list into campaign emails or attachments.\u00a0 If you want to add a field, simply add the following text to your email or attachment body:\n\n{{domo-distribution-[field name]}}`\n\n\n1. Replace\n **[**\n**field name]**\n with the name of the column in the distribution list you wish to pull from.\n\nExample 1\n\n\n For example, if I wanted to insert the\n ***Name***\n field from your distribution list, you would use the text below:\n\n{{domo-distribution-name}}`\n\n\n####\n\n*Note:**\n Columns are case sensitive. (Ex: Name is different from name.)\n\n\n Commenting out References\n\n\n If you are having problems with a reference or want to comment it out for any reason, you can simply add an exclamation point\n **(!)**\n at the beginning of the text.\n\n{{!domo-distribution-name}}`\n\nIf a reference has been commented out, it will simply be removed when rendering the\n\nHTML\n\nor pdf.\n\n##\n Data Filters\n\nFilters are used to send a subset of your data to a\u00a0given recipient by creating custom filters as columns within your distribution list.\u00a0 You must have at least a single filter column but can have multiple filters that will be executed together when rendering your Domo content.\u00a0 Each filter is made up of 3 separate pieces: the\n ***column name***\n , the\n ***operand***\n , and the\n ***value***\n .\u00a0 They are all assembled to create a single filter value, like so:\n\n\n`State is equal to Washington`\n\n###\n\n\n####\n Dataset Column Name\n\nThe\n ***column name***\n specifies the column to which the filter is applied.\u00a0Values entered here need\u00a0to match the column names in the DataSet that is powering the cards referenced in your campaign.\n\n####\n Example 1\n\n\n`Order Date is greater than or equal to 01/01/2018 00:00:00`\n\n\n#####\n Example 2\n\nOr you could only include the sales data for Washington:\n\nName is equal to John Smith`\n\n\n####\n Multiple DataSets\n\nIf you are referencing multiple cards in your campaign that are powered by multiple datasets, then you\n ***MUST***\n specify which dataset the filter applies to by providing the dataset id and the column name in this format:\n\n[dataset id].[column]`\n\n\n#####\n Example 1\n\nAdd a filter to only include sales data for orders placed this year would look like this:\n\n4bded6af-0556-4f24-b943-1858b6e84880.Order Date is greater than or equal to 01/01/2018 00:00:00`\n\n*Note:**\n If all of your Domo content is powered by a single DataSet, the DataSet ID is implied and is not required.\n\n###\n Operands\n\nThere are 11 different operands that can be used to create your filter:\n\n Is equal to\n* Does not equal\n* Is greater than\n* Is greater than or equal to\n* Is less than\n* Is less than or equal to\n* Is between\n* Is in\n* Is not in\n* Is null\n* Is not null\n\n\n####\n Value\n\nThere are two different types of values that can be specified in the filter, a normal value and a column reference.\n\n###\n Normal Value\n\nA normal value is considered an actual value in a column to be filtered on.\u00a0 For example, if you want to add a filter where the State column is equal to CA, you simply add CA as the value.\n\nState is equal to CA`\n\n\n####\n Column Reference\n\nA column reference will take the value from any column in your distribution list and add that value to your filter.\u00a0 So if you want to filter by state and you already have state defined in your distribution list, you can just reference the column by surrounding the column name with %.\n\n####\n Example 1\n\nIf the first row of your distribution list contains information for John Doe and his state is CA, the filter will be set to\n ***State is equal to CA***\n .\u00a0 If the second row of your distribution list contains information for Jane Doe and her state is UT, the filter will be set to\n ***State is equal to UT***\n , and so forth.\n\n\n`State is equal to %State%`\n\n###\n Wildcard Filter\n\nIf you don't want to specify any filters and wish to send unfiltered data and information in your email campaign, you must still define one filter column with the \"wildcard\" value of\n **\\***\n in it.\u00a0 This will tell campaigns that you understand that the data and information being delivered is unfiltered.\n\n###\n Multiple DataSets\n\nIf you are referencing multiple cards in your campaign that are powered by multiple datasets, then you\n ***MUST***\n specify which dataset the wildcard filter applies to by providing the DataSet ID in this format:\n\n\n`[dataset id]=*`\n\n\n**Tip**\n**:**\n You can find the DataSet ID by looking at the URL any your DataSets in Domo. (Ex:\n\nhttps://instancename.domo.com/datasources/\n\n\n b936442-01cc-4ddc-836f-44457f123456\n\n/details/overview)\n\n####\n Example 1\n\nIf you are referencing multiple datasets and want to specify this dataset as a wildcard, your filter column would look like this:\n\n\n`4bded6af-0556-4f24-b943-1858b6e84880=*`\n\n##\n Using HTML to Format\u00a0PDF Attachments\n\nYou can also utilize\n\nHTML\n\nto format\u00a0PDF attachments. You can define the page size, orientation, and custom page breaks when the PDF is rendered.\n\n###\n\n\n####\n Page Size and Orientation\n\nDCML supports the @page annotation as documented in the\n\nCSS# Paged Media module\n\n.\u00a0 This allows you to easily specify the size of a page as well as the orientation by simply including some CSS in your HTML definition.\u00a0 For example, to render the PDF attachment in standard letter size (8.5\" x 11\") in a landscape orientation, you would include the following code to your HTML header:\n\n\n`<html>\n\n\n <head>\n\n\n <style type=\"text/css\">\n\n\n @page { size: letter landscape; }\n\n\n </style>\n\n\n </head>\n\n\n <body>\n\n\n ...`\n\n\n**Note:**\n Standard media sizes (\n\nA5, A4, A3, B5, B4, letter, legal, and ledger) and orientations (portrait and landscape) are supported.\n\nYou can also specify any custom size in the @page annotation.\u00a0 For example, if you want to render the PDF in 5\" x 7\", you would add the following code to your HTML header:\n\n\n`<html>\n\n\n <head>\n\n\n <style type=\"text/css\">\n\n\n @page { size: 5in 7in; }\n\n\n </style>\n\n\n </head>\n\n\n <body>\n\n\n ...`\n\n\n The CSS3 definition also supports more sophisticated and extensive formatting which is also supported by DCML.\u00a0 You can find more details in the\n\nCSS3 specification\n\n.\n\n###\n Page Breaks\n\nIn order for page break annotations to work, the\n **@media all**\n and\n **@media print**\n properties must be defined somewhere in your CSS.\u00a0 If you don't have a defined CSS, simply include the following code in your HTML header:\n\n\n`<html>\n\n\n <head>\n\n\n <style type=\"text/css\">\n\n\n @media all {\n\n\n .page-break { display: none; }\n\n\n }\n\n\n @media print {\n\n\n .page-break { display: block; page-break-before: always; }\n\n\n }\n\n\n </style>\n\n\n </head>\n\n\n <body>\n\n\n ...`\n\n###\n\n*Note:**\n DCML supports all of the CSS page break properties (\n **page-break-before, page-break-after,**\n and\n **page-break-inside**\n ) with the exception of relatively positioned inline content and\u00a0positioned/floated content which will paginate just like content in the normal flow.\n\n\n To add a manual page break to any document, you can simply add the following code to your HTML:\n\n\n`<div class=\"page-break\"></div>`\n\n###\n HTML Tags Not Rendering\n\nIf you have a title or summary number that contain HTML formatting, the HTML will not always render correctly in the pdf\u00a0attachment.\u00a0 This is due to the encoding required to convert HTML to a pdf.\u00a0 In order to fix this issue, add the following flag to your DCML tag:\n\n\n`encoding=false`\n\n\n For example,\n\n\n`{{\n\ndomo-content-8868777-summarynumber encoding=false\n\n}}`\n\n\n This stops Domo content from being encoded and will allow the HTML formatting to be rendered correctly.\n\n", "preview_article": "\n\nClick here to preview\n\n", "url_name": "\n\n\n 360042933514\n\n\n", "summary____________________________________________briefly_describe_the_article_the_summary_is_used_in_search_results_to_help_users_find_relevant_articles_you_can_improve_the_accuracy_of_search_results_by_including_phrases_that_your_customers_use_to_describe_this_issue_or_topic": "\n\n", "article_number": "\n\n\n 000004213\n\n\n", "archived_date": "\n\n\n", "language": "\n\n\n English\n\n\n", "primary_version": "\n\nUsing the Domo Campaign Markup Language\n\n", "article_total_view_count": "\n\n\n 3,295\n\n\n", "": "\n\n", "article_created_date": "\n\n\n 10/24/2022, 9:27 PM\n\n\n", "first_published_date": "\n\n\n 10/24/2022, 10:40 PM\n\n\n"}, "title": "using_the_domo_campaign_markup_language", "breadcrumbs": [{"text": "domo", "url": "/s/knowledge-base/"}, {"text": "creating_custom_visualizations", "url": "/s/topic/0TO5w000000ZampGAC"}, {"text": "available_apps", "url": "/s/topic/0TO5w000000Zan9GAC"}]}