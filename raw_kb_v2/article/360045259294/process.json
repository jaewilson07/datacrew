{"file_path": "../../raw_kb_v2\\article\\360045259294\\index.html", "content": {"title": "\n\n\n Magic ETL Tiles: Data Science\n\n\n", "article_body": "\n\nIntro\n-------\n\nThere are six available tiles in the Data Science tab of Magic ETL DataFlows. These include:\n\n Classification\n* Clustering\n* Forecasting\n* Multivariate Outliers\n* Outlier Detection\n* Prediction\n\nFor information about creating a Magic ETL DataFlow, see\n\nCreating a Magic ETL DataFlow\n\n.\n\n\n For information about the Data Center, see\n\nData Center Layout\n\n.\n\n\n**Important:**\n There are significant behavioral differences in the new Magic ETL. Read the\n\n\n Behavior Changes and Feature Updates in Magic ETL\n\n\n article before converting mission-critical Magic ETL DataFlows.\n **Failure to do so may risk an unintended change to your DataFlow\u2019s behavior.**\n\n\n**Note:**\n This feature is available\n *on demand and paid*\n .\n\nTo request this feature be enabled,\n\n Reach out to your Domo Customer Success Manager, Technical Consultant, or AE.\n* If you do not have contact information for your CSM, TC, or AE, contact Technical Support for information on how to contact Support, please see:\n\nGetting Help\n\nDepending on the feature, you may be required to complete training before you can use the feature.\n\n*Video - Data Science Actions in ETL**\n\n*Note:**\n To perform accurate and efficient data science analysis on your data, we recommend using clean data. See\n\nData Cleaning and Feature Engineering\n\nfor more information.\n\n\n AutoML Inference Tile\n-----------------------\n\n\n The AutoML\u00a0Inference tile allows you to make predictions (inference) on new data using a previously trained AutoML model.\u00a0Connect a DataSet with a matching schema to your training DataSet and the AutoML Inference tile will use that machine learning model trained by AutoML to make predictions on all the rows of your DataSet. For more information on using AutoML, see\n\nAutoML (Machine Learning)\n\n.\n\nIf you attempt to connect a DataSet that does not match the schema of the training DataSet at the time you executed your training job an error message will be displayed with the mismatch errors.\n\nIf you deploy a model from a blank Magic ETL canvas and drag an unconfigured AutoML Inference tile from the Data Science section of the Magic ETL left rail, you will be able to select from the DataSets with a successful AutoML job and the individual job run. However, from this option you will only be able to deploy the model that is deemed best by AutoML (the model with the best performing objective metric on the AutoML validation data.) In order to deploy any other candidates, go back to the model overview page, click on your model in the leaderboard grid and hit the\n **Deploy to ETL**\n button.\n\n\n Classification Tile\n---------------------\n\n\n The classification (predicting categorical values instead of numeric) algorithms aim to build statistical models which predict a categorical column in your data. The models can then be used to classify values of that column on new data. It is recommended that multiple methods be used and compared by the user.\n\n\n This tile requires one\u00a0training DataSet and an optional testing/validation DataSet. The training DataSet will contain one\u00a0categorical column (dependent column), and both the training and test DataSets will contain one\u00a0or more numeric and/or categorical columns (predictor columns). Within the Classification tile, you can choose from either Na\u00efve Bayes or Random Forest.\n\n###\n Na\u00efve Bayes Classifier\n\nNa\u00efve Bayes\u00a0classification is faster and simpler than other classification algorithms but also often less precise. It is recommended for use on larger DataSets.\n\n###\n Random Forest Classifier\n\nRandom forest classification is an ensemble learning method that\u00a0builds multiple decision trees and combines the results to obtain an overall classification. No assumptions of linearity are needed. The algorithm is more robust against extreme values in your data.\n\n###\n Example\n\nThe following example illustrates how the Classification algorithm can be implemented and used in Magic ETL in Domo. The DataSets\n\nCatastrophic\\_Train.xlsx\n\n(800 rows) and\n\nCatastrophic\\_Test.xlsx\n\n(200 rows) are artificially generated DataSets. They contain data on insurance claims where the goal is to train a Classification algorithm which can accurately classify a new claim as catastrophic or not.\n\n\n A snapshot of the \u201cCatastrophic\u00a0Train\u201d DataSet is found below.\n\nThe column of interest that we\u00a0want to classify is \"catastrophic\"\u00a0which is observed in this DataSet.\u00a0This DataSet will be used to \"train\"\u00a0a classification algorithm that can\u00a0be used on future DataSets\u00a0where the \"catastrophic\"\u00a0status may not be known.\n\n\n A snapshot of the \"Catastrophic\u00a0Test\" DataSet is found below.\n\nNote that \"catastrophic\"\u00a0is not in the test DataSet.\n\n\n**To configure the Classification tile,**\n\n. Add the Classification\u00a0tile and connect it to your input DataSets.\n2. First, you must select a DataSet that will be used to train the algorithm and one that will be predicted.\u00a0Note that these could be the same DataSet,\u00a0but may be separate if you have separate training and test/validation DataSets.\n3. Next, select the column that you want to classify. Then, the columns that you believe may help classify must be selected next with the numeric columns selected first (note that this can be left blank).\n4. The categorical classifier columns must be selected (note that this may be left blank if at least one column was selected as a numeric classifier in the previous step). The name of the classification column must also be named. In this case, the default name \"classification\" is used.\n5. Lastly, select either\n\nNa\u00efve Bayes\n\nor\n\nRandom Forest\n\nas the algorithm powering the Classification tile.\n6. Connect and name the output DataSet. The resulting DataSet will include the original DataSet with the appended 'classification' column.\n\nClustering Tile\n-----------------\n\n\n The Clustering algorithm aims to group\u00a0a set of objects in such a way that objects in the same group are more similar to each other than to those in other groups. This is particularly useful in the exploratory phase of data analysis as it allows the user to begin to uncover patterns and groupings that may not be obvious.\n\n\n This tile requires at least one\u00a0numeric column and a number of clusters to cluster by (K). You can also choose from either a K-means or K-medians algorithm.\n\n###\n K-means Clustering\n\nK-means forms clusters by randomly selecting k rows from the DataSet and treating them as cluster centers. The k clusters are then formed based on each row\u2019s distance to the cluster center. The mean of each cluster is then calculated and treated as the new cluster center. This process is repeated until cluster membership stabilizes.\n\n###\n K-medians Clustering\n\nK-medians forms clusters by randomly selecting k rows from the DataSet and treating them as cluster centers. The k clusters are then formed based on each row\u2019s distance to the cluster center. The median of each cluster is then calculated and treated as the new cluster center. This process is repeated until cluster membership stabilizes.\n\n###\n Example\n\nThe following example illustrates how the clustering algorithm can be implemented and used in Magic ETL in Domo. The sample DataSet\n\nWholesale\\_Distributor\\_Sales.xlsx\n\n(440 rows) is an artificially generated DataSet.\n\nIt contains annual spending information (in monetary units, \u201cm.u.\u201d) on various product\u00a0categories from clients of a wholesale distributor. Each row contains data for a single client.\u00a0The first two columns are Region and Channel, which describe demographic information for\u00a0each client. The next 6 columns contain the spending information on each of the 6 product\u00a0categories: Fresh, Milk, Grocery, Frozen, Detergents\\_Paper, and Delicatessen. The Clustering algorithm can be used to cluster the clients according to how much was spent on the\u00a0various product categories.\n\n\n**To configure the Clustering tile,**\n\n. Add the Clustering tile to your Magic ETL and connect it to the input DataSet.\n2. Select the columns you want to use to determine the clusters. You must have at least one numeric column and only numeric columns can be selected.\n3. Next, name the new column that will contain the cluster membership and the number of clusters (k) assumed to exist in the DataSet. Typically 2-5 clusters is a good starting point, although more can be used. It is recommended that different values of k be explored.\n\n\n**Note:**\n U\n\nsing too many clusters is typically not beneficial as the\u00a0interpretations among the resulting clusters would be difficult.\n4. Then, select either\n\nK-means\n\nor\n\nK-medians\n\nas the algorithm powering this Clustering tile.\n5. Lastly, an output DataSet must be connected and named.\n\nThe resulting output DataSet will include the original DataSet with an appended column containing the cluster membership.\n\n\n####\n Building a Card with this DataSet\n\nA Scatter Plot is a\u00a0great way to visualize the data in this DataSet.\n\nThis Scatter Plot shows client spending on Fresh (X-axis) products against Grocery (Y-axis)\u00a0products. Each point is colored by its assigned cluster. In this example, 3 clusters were chosen\u00a0and it appears that clients in cluster 1 (blue) tend to spend more on Fresh products, clients in\u00a0cluster 3 (orange) tend to spend more on Grocery products, and clients in cluster 2 (green) do\u00a0not spend much on either. More Scatter Plots could be built to examine how the clients cluster\u00a0within different product categories (i.e., Milk by Frozen).\n\n\n Forecasting Tile\n------------------\n\n\n Time series forecasting includes\u00a0methods which use a column of time-ordered data to generate forecasts of future observations.\n\n\n This tile requires one\u00a0date/time column and one\u00a0numeric column. Forecasting uses the ARIMA algorithm.\n\n###\n ARIMA\n\nWith\u00a0ARIMA (Auto-Regressive Integrated Moving-Average), prediction parameters are automatically chosen based on model fit. This allows for the capture of trends and seasonality in the data. The forecasts are then based on the final model parameters.\n\n###\n Example\n\nThe following example illustrates how the ARIMA forecasting algorithm can be implemented and used in Magic ETL in Domo. The sample DataSet\n\nDaily\\_Web\\_Sales.xlsx\n\n(171 rows) is an artificially generated DataSet that contains daily revenue totals.\n\nFollow these steps to configure the Forecasting tile:\n\n. Add the Forecasting tile to your Magic ETL and connect it to the input DataSet.\n2. Next, select the column containing the date/time, followed by the column that you want to forecast. In this case, 'Revenue' will be forecasted.\n3. Now, let's choose the width of the prediction bands (default is 95%).\u00a0The higher the percentage of the value chosen, the smaller the width of the bands.\u00a0The number of dates to forecast can then be chosen next.\u00a0The forecasting algorithm will look at the past data and take the average distance (in time) between data points.\u00a0Future forecasted points will be based on this quantity.\u00a0In this case, the data is in days, so the future forecasted time points are also in days.\n4. Select the number\u00a0of rows back in time must be chosen to base the future predictions on.\u00a0By default, all of the rows will be used.\u00a0The name of the\n\nprediction\n\ncolumn must also be named.\u00a0In this case, the default \u2018prediction\u2019 is used.\n5. Next, the prediction lower and upper bounds must be named. Here, the defaults \u2018prediction lower\u2019 and \u2018prediction upper\u2019 are used.\n6. Indicate the number of times you want each row to be observed per time period.\n\n\n In this example, the number of times is 7.\n7. Finally, connect and name the output DataSet.\n\nThe resulting output DataSet will include the original DataSet with the appended \u2018prediction,\u2019\u00a0\u2018prediction lower,\u2019\u00a0and \u2018prediction upper\u2019 columns. These three new columns will be blank, except for where predictions are made (at the bottom of the DataSet).\n\n\n####\n Building a Card with this DataSet\n\nA Forecasting card is a great way to visualize the data in this DataSet.\n\nThis Forecasting card shows the daily revenue with the forecasted values (with upper and lower bounds) shaded in blue.\n\n\n Multivariate Outliers Tile\n----------------------------\n\n\n Multivariate outlier detection is an anomaly detection algorithm which aims to detect outlying or unusual observations on a set of one or more numeric columns in a DataSet. Multivariate outlier detection allows the user to detect an outlying observation (or row) in more than one dimension. In some scenarios, an observation may not be an outlier with respect to a single column but may be an outlier with respect to multiple columns. This is particularly useful as the number of columns increases.\n\n\n For true multivariate outliers to be discovered, this tile requires 2 or more numeric columns. However, the tile task will operate with at least one numeric value.\n\n###\n Example\n\nThe following example illustrates how the outlier detection algorithm can be implemented and used in Magic ETL in Domo. The sample DataSet\n\nWholesale\\_Distributor\\_Sales.xlsx\n\n(440 rows) is an artificially generated DataSet.\n\nIt contains annual spending information (in monetary units, \u201cm.u.\u201d) on various product\u00a0categories from clients of a wholesale distributor. Each row contains data for a single client.\u00a0The first two columns are Region and Channel, which describe demographic information for\u00a0each client. The next 6 columns contain the spending information on each of the 6 product\u00a0categories: Fresh, Milk, Grocery, Frozen, Detergents\\_Paper, and Delicatessen. Multivariate\u00a0outlier detection can be used to detect outlying, or unusual, clients based on how much was spent on the various product categories.\n\n\n**To configure the Multivariate Outliers tile,**\n\n. Add the Multivariate Outliers tile to your Magic ETL and connect it to the input DataSet.\n2. Within the Multivariate Outliers tile, one or more of the 6 product categories must be chosen\u00a0as the columns for which outliers will be detected on. For this example, all of the product\u00a0categories are chosen.\n3. The quantile (a value between 0 and 1) of the Chi-square distribution that will be used as a\u00a0cutoff must be selected next as well as the name of the column (default is \u201coutlier\u201d) that contains either TRUE (observation is an outlier) or FALSE (observation is not an outlier) values.\u00a0Typically a quantile between .95 and .99 is a good starting point, with higher quantiles leading\u00a0to stricter cutoffs. It is recommended that different values be explored. Note that using too low of a quantile cutoff value will label most of the observations as outliers.\n4. Last, an output DataSet must be connected and named.\n\n\n The resulting\u00a0output DataSet will include the original DataSet with an appended column\u00a0containing the outlier indicators (circled below in the preview pane).\n\n\n####\n Building a Card with this DataSet\n\nA Scatter Plot graph is a great way to visualize the data in this DataSet.\n\nThis Scatter Plot shows client spending on Grocery (X-axis) products against Fresh (Y-axis)\u00a0products. Recall that all six product categories were chosen to detect outliers on. The clients\u00a0that are considered outliers are in red. Most of the outlying clients either spent a lot on Fresh\u00a0or Grocery or both. There also appeared to be some outlying clients that did not spend very\u00a0much on either Fresh or Grocery (located in the bottom left corner of the plot). These clients\u00a0may be high spenders in one of the other four product categories. Different scatter plots could\u00a0be used to gain insight into why some of the clients were considered outliers.\n\n\n Outlier Detection Tile\n------------------------\n\n\n An outlier is an observation or point that is distant from other observations/points and has a low probability of occurrence. The outlier detection methods differ on their underlying assumptions about the data (roughly normal bell-curve data, high dimensional data, time series data, etc.) and how they detect outlying observations.\n\n\n This tile requires one\u00a0numeric column and you can choose between a standard deviation or mean absolute deviation algorithm.\n\n###\n Mean Absolute Deviation\n\nMean Absolute Deviation outlier detection is an anomaly detection algorithm which aims to detect outlying or unusual observations on a numeric column in a DataSet. Unlike Standard Deviation detection, Mean Absolute Deviation outlier detection does not assume that the values in the column are normally distributed (i.e. have a bell-shaped distribution) and thus makes it most useful for columns that are non-normal or skewed (have a disproportionate number of observations that are large or small). Observations in the column are labeled as outliers if the value is greater than a pre-specified number of median absolute deviations (MADs) from the median in either direction.\n\n###\n Standard Deviation\n\n\n Standard Deviation outlier detection is an anomaly detection algorithm that attempts to detect outlying or unusual observations on a numeric column in a DataSet. Standard Deviation outlier detection specifically assumes that the values in the column are roughly normally distributed (i.e. have a bell-shaped distribution). Observations in the column are labeled as outliers if the value is greater than a pre-specified number of standard deviations from the mean in either direction.\n\n###\n Example\n\nThe following example illustrates how the outlier detection algorithm can be implemented and used in Magic ETL in Domo. The sample DataSet\n\nWholesale\\_Distributor\\_Sales.xlsx\n\n(440 rows) is an artificially generated DataSet.\n\nIt contains annual spending information (in monetary units, \u201cm.u.\u201d) on various product\u00a0categories from clients of a wholesale distributor. Each row contains data for a single client.\u00a0The first two columns are Region and Channel, which describe demographic information for\u00a0each client. The next 6 columns contain the spending information on each of the 6 product\u00a0categories: Fresh, Milk, Grocery, Frozen, Detergents\\_Paper, and Delicatessen. Standard Deviation outlier detection can be used to detect outlying, or unusual, clients based on\u00a0how much was\u00a0spent on the various product categories.\n\n\n**To configure the Outliers Detection tile,**\n\n. Add the Outliers Detection tile to your Magic ETL and connect it to the input DataSet.\n2. Within the Outliers Detection tile, one of the 6 product categories must be chosen as the\u00a0column for which outliers will be detected on. For this example, Fresh is the chosen column.\n3. The number of median absolute deviations above or below the median that will be used as a\u00a0cutoff must be selected next as well as the name of the column (default is \u201coutlier\u201d) that\u00a0contains either TRUE (observation is an outlier) or FALSE (observation is not an outlier) values.\u00a0Typically 2-3 median absolute deviations is a good starting point, although a higher (stricter)\u00a0value can be used. It is recommended that different values be explored. Note that using too\u00a0small of a cutoff will label most observations as outliers.\n4. Next, select either the\n\nStandard Deviation\n\nor\n\nMean Absolute Deviation\n\nalgorithm. In this example, we will select Standard Deviation.\n5. Last, an output DataSet must be connected and named.\n\n\n The resulting output DataSet will include the original DataSet with an appended column containing the outlier indicators (circled below in the preview pane).\n\n\n####\n Building a Card with this DataSet\n\nA Scatter Plot graph is a great way to visualize the data in this DataSet.\n\nThis Scatter Plot shows client spending on Grocery (X-axis) products against Fresh (Y-axis)\u00a0products. Recall that Fresh was the category that was chosen to detect outliers on. The clients\u00a0that are considered outliers are in red. These clients appear to spend significantly more on\u00a0Fresh products than the other clients. There were no clients that were considered outliers on\u00a0the lower side of the spending spectrum. This analysis could be replicated to explore potential\u00a0outliers in other product categories.\n\n\n Prediction Tile\n-----------------\n\n\n Regression algorithms aim to build statistical models which predict a numeric column in your data. The models can then be used to predict values of that column on new data. It is recommended that multiple methods be used and compared by the user.\n\n\n This tile allows you to choose from either a Linear Regression or Random Forest algorithm.\n\n*Note:**\n Currently, the Prediction tile can only support predicting a maximum of 53 unique categories. If you need more categories, we recommend building this using our custom R/Python scripting tiles.\n\n\n####\n Linear Regression\n\nLinear regression prediction uses a linear regression model to predict a numeric column in your data.\u00a0It requires a training DataSet that contains the column you want to predict as well as other columns (also known as \"predictors\") that you believe can aid in the prediction process.\u00a0The algorithm uses the training DataSet to \"train\"\u00a0a prediction algorithm which can then be applied to a \"test\"\u00a0DataSet (note the test and training DataSets could be the same) where it will use the same \"predictor\"\u00a0column\u00a0to classify each row.\n\n###\n Random Forest\n\nThe Random Forest regression is very powerful as it uses an ensemble of many weak decision trees to create one strong regression algorithm that predicts the mean prediction of each of the individual trees. This performs well on a variety of data types as it is good at identifying complex non-linear substructure from data.\n\n###\n Example\n\nThe following example illustrates how the Regression prediction algorithm can be implemented and used in Magic ETL in Domo. The sample DataSets\n\nCatastrophic\\_Train.xlsx\n\n(800 rows) and\n\nCatastrophic\\_Test.xlsx\n\n(200 rows) are artificially generated DataSets. They contain data on insurance claims where the goal is to train a prediction algorithm which can accurately predict the number of claims for each row in a DataSet based on data in other columns.\n\n\n A snapshot of the \u201cCatastrophic\u00a0Train\u201d DataSet is found below.\n\nThe column of interest that we\u00a0want to classify is \"num.claims\"\u00a0which is observed in this DataSet.\u00a0This DataSet will be used to \"train\"\u00a0a\u00a0classification algorithm that can\u00a0be used on future DataSets\u00a0where the \"num.claims\"\u00a0status may not be known.\n\n\n A snapshot of the \"Catastrophic\u00a0Test\" DataSet is found below.\n\nNote that \"num.claims\"\u00a0is also in this DataSet. This would allow the user to see how well their predictions did against actual values of \"num.claims.\"\n\n\n**To configure the Prediction tile,**\n\n. Add the Prediction tile to your Magic ETL and connect it to the input DataSet.\n2. First, you must select the training and test DataSets.\u00a0 Note that\u00a0these could be the same DataSet.\n3. Next, select the column that you want to predict. Then the columns that you believe may help predict\u00a0must be selected next with the numeric columns selected first (note that this can be left blank).\n4. Now, the categorical predictor columns must be selected (note that this may be left blank if at least one column was selected as a numeric predictor in the previous step).\u00a0The name of the prediction column must be set next. In the example, we leave the name at the default.\n5. Lastly,\u00a0select either the\n\nLinear Regression\n\nor\n\nRandom Forest\n\nalgorithm. In this example, we will select Linear Regression.\n6. The output DataSet must then be connected and named.\n\nThe resulting output DataSet will include the original training DataSet with the appended prediction columns. The prediction columns can then be compared with the \"num.claims\" column.\n\n", "preview_article": "\n\nClick here to preview\n\n", "url_name": "\n\n\n 360045259294\n\n\n", "summary____________________________________________briefly_describe_the_article_the_summary_is_used_in_search_results_to_help_users_find_relevant_articles_you_can_improve_the_accuracy_of_search_results_by_including_phrases_that_your_customers_use_to_describe_this_issue_or_topic": "\n\n", "article_number": "\n\n\n 000002997\n\n\n", "archived_date": "\n\n\n", "language": "\n\n\n English\n\n\n", "primary_version": "\n\nMagic ETL Tiles: Data Science\n\n", "article_total_view_count": "\n\n\n 5,724\n\n\n", "": "\n\n", "article_created_date": "\n\n\n 10/24/2022, 8:58 PM\n\n\n", "first_published_date": "\n\n\n 10/24/2022, 10:41 PM\n\n\n"}, "title": "magic_etl_tiles_data_science", "breadcrumbs": [{"text": "domo", "url": "/s/knowledge-base/"}, {"text": "transforming_data_in_domo", "url": "/s/topic/0TO5w000000ZamzGAC"}, {"text": "magic_etl", "url": "/s/topic/0TO5w000000ZanvGAC"}, {"text": "tiles", "url": "/s/topic/0TO5w000000ZdTHGA0"}]}